{"remainingRequest":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/src/pages/Profile/UserCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/src/pages/Profile/UserCard.vue","mtime":1636446306813},{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBUEkgZnJvbSAiLi4vLi4vYXBpL0FQSSI7CmltcG9ydCBCYXNlQnV0dG9uIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvQmFzZUJ1dHRvbi52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQmFzZUJ1dHRvbgogIH0sCiAgcHJvcHM6IHsKICAgIG5hbWU6IG51bGwsCiAgICBvY2N1cGF0aW9uOiBudWxsLAogICAgZ2VuZGVyOiBudWxsLAogICAgc3RhdHVzOiBudWxsLAogICAgZW1haWw6IG51bGwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlZGl0X29jY3VwYXRpb246IGZhbHNlLAogICAgICBlZGl0X3N0YXR1czogZmFsc2UsCiAgICAgIGNoYW5nZV9vY2N1cGF0aW9uOiBudWxsLAogICAgICBjaGFuZ2Vfc3RhdHVzOiBudWxsLAogICAgICBlZGl0X3Bob3RvOiBmYWxzZSwKICAgICAgaW1hZ2VzOiBudWxsLAogICAgICBpbWFnZV9uYW1lOiBudWxsLAogICAgICBpbWFnZTogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwbG9hZEZpbGUoKSB7CiAgICAgIHRoaXMuaW1hZ2VzID0gdGhpcy4kcmVmcy5maWxlLmZpbGVzWzBdOwogICAgICBjb25zb2xlLmxvZyh0aGlzKQogICAgICB0aGlzLmltYWdlX25hbWUgPSB0aGlzLmltYWdlcy5uYW1lOwogICAgfSwKICAgIGFzeW5jIHNhdmVfb2NjdXBhdGlvbigpIHsKICAgICAgdGhpcy5lZGl0X29jY3VwYXRpb24gPSAhdGhpcy5lZGl0X29jY3VwYXRpb247CiAgICAgIGNvbnN0IHRva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICB2YXIgb2NjdXBhdGlvbiA9IHRoaXMuY2hhbmdlX29jY3VwYXRpb247CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgQVBJLm9jY3VwYXRpb24oeyBvY2N1cGF0aW9uIH0sIHRva2VuKTsKICAgICAgICB0aGlzLm9jY3VwYXRpb24gPSBvY2N1cGF0aW9uOwogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgc2F2ZV9zdGF0dXMoKSB7CiAgICAgIHRoaXMuZWRpdF9zdGF0dXMgPSAhdGhpcy5lZGl0X3N0YXR1czsKICAgICAgY29uc3QgdG9rZW4gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CiAgICAgIHZhciBzdGF0dXMgPSB0aGlzLmNoYW5nZV9zdGF0dXM7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgQVBJLnN0YXR1cyh7IHN0YXR1cyB9LCB0b2tlbik7CiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBzYXZlX3BpY3R1cmUoKSB7CiAgICAgIC8qIGNvbnNvbGUubG9nKCJISSIpCiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIHRoaXMuaW1hZ2VzKTsgKi8KCiAgICAgIGNvbnN0IHRva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICAvKiB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IEFQSS51cGxvYWRQaWMoZm9ybURhdGEsIHRva2VuKTsKICAgICAgICBjb25zdCByZXMxID0gYXdhaXQgQVBJLnVwZGF0ZVBpYyh7IHBpY3R1cmU6IHRoaXMuaW1hZ2VfbmFtZSB9LCB0b2tlbik7CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0gKi8KICAgICAgY29uc29sZS5sb2coIkhFTExPIFRIRVJFIikKICAgICAgCiAgICAgIGNvbnNvbGUubG9nKCJISUkiKQogICAgICBjb25zb2xlLmxvZyh0aGlzLmltYWdlcykKICAgICAgaWYgKHRoaXMuaW1hZ2VzKXsKICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKHRoaXMuaW1hZ2VzKTsKICAgICAgICByZWFkZXIub25sb2FkZW5kID0gKCkgPT4gewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVhZGVyLnJlc3VsdCkpCiAgICAgICAgICAgIC8qIGNvbnN0IHJlcyA9IGF3YWl0IEFQSS51cGxvYWRQaWMoe2RhdGE6IEpTT04uc3RyaW5naWZ5KHJlYWRlci5yZXN1bHQpfSwgdG9rZW4pOwogICAgICAgICAgICBjb25zdCByZXMxID0gYXdhaXQgQVBJLnVwZGF0ZVBpYyh7IHBpY3R1cmU6IHRoaXMuaW1hZ2VfbmFtZSB9LCB0b2tlbikgKi87CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgIH0KICAgICAgICAKICAgICAgICB9OwogICAgICB9CiAgICAgIAogICAgICAKICAgICAgICAKICAgIH0sCiAgICBhc3luYyBnZXQoKSB7CiAgICAgIGNvbnN0IHRva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IEFQSS5nZXRQaWMoeyBuYW1lOiAiUHJvZmlsZSBQaWN0dXJlLmpwZyIgfSwgdG9rZW4pOwogICAgICAgIAogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKQogICAgICAgIHRoaXMuaW1hZ2UgPSAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChyZXMuZGF0YSkpKTsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmltYWdlKQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["UserCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserCard.vue","sourceRoot":"src/pages/Profile","sourcesContent":["<template>\n  <card type=\"user\">\n    <p class=\"card-text\"></p>\n    <div class=\"author\">\n      <div class=\"block block-one\"></div>\n      <div class=\"block block-two\"></div>\n      <div class=\"block block-three\"></div>\n      <div class=\"block block-four\"></div>\n      <a href=\"#\">\n        <img\n          class=\"avatar\"\n          v-if=\"gender == 'M'\"\n          src=\"img/anime3.png\"\n          alt=\"...\"\n        />\n        <img class=\"avatar\" v-else src=\"img/anime6.png\" alt=\"...\" /><br />\n        \n          <input\n            v-if=\"edit_photo\"\n            class=\"mx-auto pl-5 text-center\"\n            \n            ref=\"file\"\n            type=\"file\"\n            name=\"image\"\n          />\n          <base-button\n            v-if=\"!edit_photo\"\n            slot=\"footer\"\n            type=\"primary\"\n            fill\n            @click.prevent=\"edit_photo = true\"\n            >Upload</base-button\n          >\n          <base-button\n            v-if=\"edit_photo\"\n            slot=\"footer\"\n            type=\"primary\"\n            fill\n            @click.prevent=\"save_picture\"\n            >Upload</base-button\n          >\n        \n        <base-button slot=\"footer\" type=\"primary\" fill @click=\"get\"\n          >Upload</base-button\n        >\n        <h3 class=\"title\">{{ name }}</h3>\n      </a>\n\n      <p class=\"description\" v-if=\"!edit_occupation\">\n        {{ occupation }}\n        <i\n          class=\"tim-icons icon-pencil pencil ml-2\"\n          @click=\"edit_occupation = !edit_occupation\"\n        ></i>\n      </p>\n      <base-input\n        v-model=\"change_occupation\"\n        placeholder=\"Occupation\"\n        v-if=\"edit_occupation\"\n      >\n      </base-input>\n      <base-button\n        v-if=\"edit_occupation\"\n        slot=\"footer\"\n        type=\"primary\"\n        fill\n        @click=\"save_occupation\"\n        >Save</base-button\n      >\n      <p class=\"description mt-2\" v-if=\"!edit_status\">\n        <span class=\"mr-2\" v-if=\"!status\">How are you feeling?</span>\n        <span v-else class=\"mr-2\">{{ status }}</span>\n        <i\n          class=\"tim-icons icon-pencil pencil \"\n          @click=\"edit_status = !edit_status\"\n        ></i>\n      </p>\n      <base-input\n        v-model=\"change_status\"\n        placeholder=\"Status\"\n        v-if=\"edit_status\"\n      >\n      </base-input>\n      <base-button\n        v-if=\"edit_status\"\n        slot=\"footer\"\n        type=\"primary\"\n        fill\n        @click=\"save_status\"\n        >Save</base-button\n      >\n    </div>\n    <p></p>\n    <p class=\"card-description\"></p>\n    <div slot=\"footer\" class=\"button-container\">\n      <base-button icon round class=\"btn-facebook\">\n        <i class=\"fab fa-facebook\"></i>\n      </base-button>\n      <base-button icon round class=\"btn-twitter\">\n        <i class=\"fab fa-twitter\"></i>\n      </base-button>\n      <base-button icon round class=\"btn-google\">\n        <i class=\"fab fa-google-plus\"></i>\n      </base-button>\n    </div>\n  </card>\n</template>\n<script>\nimport API from \"../../api/API\";\nimport BaseButton from \"../../components/BaseButton.vue\";\nexport default {\n  components: {\n    BaseButton\n  },\n  props: {\n    name: null,\n    occupation: null,\n    gender: null,\n    status: null,\n    email: null\n  },\n  data() {\n    return {\n      edit_occupation: false,\n      edit_status: false,\n      change_occupation: null,\n      change_status: null,\n      edit_photo: false,\n      images: null,\n      image_name: null,\n      image: null\n    };\n  },\n  methods: {\n    uploadFile() {\n      this.images = this.$refs.file.files[0];\n      console.log(this)\n      this.image_name = this.images.name;\n    },\n    async save_occupation() {\n      this.edit_occupation = !this.edit_occupation;\n      const token = window.localStorage.getItem(\"token\");\n      var occupation = this.change_occupation;\n      try {\n        const res = await API.occupation({ occupation }, token);\n        this.occupation = occupation;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    async save_status() {\n      this.edit_status = !this.edit_status;\n      const token = window.localStorage.getItem(\"token\");\n      var status = this.change_status;\n      try {\n        const res = await API.status({ status }, token);\n        this.status = status;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    async save_picture() {\n      /* console.log(\"HI\")\n      const formData = new FormData();\n      formData.append(\"file\", this.images); */\n\n      const token = window.localStorage.getItem(\"token\");\n      /* try {\n        const res = await API.uploadPic(formData, token);\n        const res1 = await API.updatePic({ picture: this.image_name }, token);\n      } catch (err) {\n        console.log(err);\n      } */\n      console.log(\"HELLO THERE\")\n      \n      console.log(\"HII\")\n      console.log(this.images)\n      if (this.images){\n        const reader = new FileReader();\n        reader.readAsDataURL(this.images);\n        reader.onloadend = () => {\n          try {\n            console.log(JSON.stringify(reader.result))\n            /* const res = await API.uploadPic({data: JSON.stringify(reader.result)}, token);\n            const res1 = await API.updatePic({ picture: this.image_name }, token) */;\n          } catch (err) {\n            console.log(err);\n          }\n        \n        };\n      }\n      \n      \n        \n    },\n    async get() {\n      const token = window.localStorage.getItem(\"token\");\n      try {\n        const res = await API.getPic({ name: \"Profile Picture.jpg\" }, token);\n        \n        console.log(res.data)\n        this.image = 'data:image/png;base64,' + btoa(unescape(encodeURIComponent(res.data)));\n        console.log(this.image)\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  }\n};\n</script>\n<style>\n.pencil {\n  cursor: pointer;\n}\n</style>\n"]}]}