{"remainingRequest":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/src/pages/Login.vue?vue&type=style&index=0&id=15717af5&lang=scss&scoped=true&","dependencies":[{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/src/pages/Login.vue","mtime":1635770927452},{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5sb2dpbiB7CiAgbWFyZ2luLXRvcDogNWNtOwp9Ci5sYWJlbCB7CiAgZm9udC1zaXplOiAxNXB4Owp9CiNyYy1hbmNob3ItY29udGFpbmVyewogIHdpZHRoOiA1MDBweCAhaW1wb3J0YW50Owp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"container \">\n    <card style=\"width: 70%;\" class=\"mx-auto login\">\n      <div class=\"card-body\">\n        <h2 class=\"card-title\">Login</h2>\n        <form action=\"\">\n          <base-input label=\"Email\" placeholder=\"Email\" v-model=\"email\">\n          </base-input>\n          <base-input\n            label=\"Password\"\n            placeholder=\"Password\"\n            v-model=\"password\"\n            type=\"password\"\n          >\n          </base-input>\n        </form>\n        <vue-recaptcha :sitekey=\"site\" @verify=\"verify\"></vue-recaptcha>\n        <label\n          class=\"card-title label text-danger form-label\"\n          v-if=\"!recaptcha\"\n        >\n          Not yet verified </label\n        ><br />\n        <div @click=\"login\">\n        <vue-loading-button\n          :loading=\"isLoading\"\n          \n          class=\"btn btn-primary \"\n          \n          >Login</vue-loading-button\n        >\n        </div>\n        <div class=\"card-text\">\n          <p v-if=\"error\" class=\"text-danger label\">\n            Please check that you have done the verification. If yes, you have\n            entered an incorrect email/password. Please try again.\n          </p>\n          <u\n            ><router-link to=\"/register\"\n              >Haven't made an account? Register here</router-link\n            ></u\n          >\n        </div>\n      </div>\n    </card>\n  </div>\n</template>\n\n<script>\nimport Card from \"../components/Cards/Card.vue\";\nimport API from \"../api/API\";\nimport BaseInput from \"../components/Inputs/BaseInput.vue\";\nexport default {\n  components: {\n    Card\n  },\n  data() {\n    return {\n      email: null,\n      password: null,\n      error: false,\n      site: \"6LeXbNEcAAAAADXZ4hJWouw34d7_KNQHrFddaGE7\",\n      recaptcha: null,\n      isLoading: false\n    };\n  },\n  methods: {\n    async login() {\n      this.isLoading = true;\n      const data = {\n        email: this.email,\n        password: this.password\n      };\n\n      if (this.email && this.password && this.recaptcha) {\n        try {\n          const res = await API.signin(data);\n          const { token } = res.data;\n          \n          window.localStorage.setItem(\"token\", token);\n          this.$router.push(\"/home/dashboard\");\n        } catch (error) {\n          this.error = true;\n        }\n      } else {\n        this.error = true;\n      }\n    },\n    verify(response) {\n      this.isLoading = false;\n      this.recaptcha = response;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  margin-top: 5cm;\n}\n.label {\n  font-size: 15px;\n}\n#rc-anchor-container{\n  width: 500px !important;\n}\n</style>\n"]}]}