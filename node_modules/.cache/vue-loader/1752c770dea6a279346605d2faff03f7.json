{"remainingRequest":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/src/pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/src/pages/Login.vue","mtime":1636451628799},{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/randallyeo/Desktop/Desktop Items/Y2/Y2S1/WAD2/project/project_deployment/utbuddy_frontend_deploy/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDYXJkIGZyb20gIi4uL2NvbXBvbmVudHMvQ2FyZHMvQ2FyZC52dWUiOwppbXBvcnQgQVBJIGZyb20gIi4uL2FwaS9BUEkiOwppbXBvcnQgQmFzZUlucHV0IGZyb20gIi4uL2NvbXBvbmVudHMvSW5wdXRzL0Jhc2VJbnB1dC52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ2FyZAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVtYWlsOiBudWxsLAogICAgICBwYXNzd29yZDogbnVsbCwKICAgICAgZXJyb3I6IGZhbHNlLAogICAgICBzaXRlOiAiNkxlWGJORWNBQUFBQURYWjRoSldvdXczNGQ3X0tOUUhyRmRkYUdFNyIsCiAgICAgIHJlY2FwdGNoYTogbnVsbCwKICAgICAgaXNMb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGxvZ2luKCkgewogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIGNvbnN0IGRhdGEgPSB7CiAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLmVtYWlsICYmIHRoaXMucGFzc3dvcmQgJiYgdGhpcy5yZWNhcHRjaGEpIHsKICAgICAgICB0cnkgewogICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgQVBJLnNpZ25pbihkYXRhKTsKICAgICAgICAgIGNvbnN0IHsgdG9rZW4gfSA9IHJlcy5kYXRhOwogICAgICAgICAgCiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgdG9rZW4pOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9ob21lL2Rhc2hib2FyZCIpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICB2ZXJpZnkocmVzcG9uc2UpIHsKICAgICAgCiAgICAgIHRoaXMucmVjYXB0Y2hhID0gcmVzcG9uc2U7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div class=\"container \">\n    <card style=\"width: 70%;\" class=\"mx-auto login\">\n      <div class=\"card-body\">\n        <h2 class=\"card-title\">Login</h2>\n        <form action=\"\">\n          <base-input label=\"Email\" placeholder=\"Email\" v-model=\"email\">\n          </base-input>\n          <base-input\n            label=\"Password\"\n            placeholder=\"Password\"\n            v-model=\"password\"\n            type=\"password\"\n          >\n          </base-input>\n        </form>\n        <vue-recaptcha :sitekey=\"site\" @verify=\"verify\"></vue-recaptcha>\n        <label\n          class=\"card-title label form-label\"\n          v-if=\"!recaptcha\"\n          style=\"color: red;\"\n        >\n          Not yet verified </label\n        ><br />\n        <div @click=\"login\">\n        <vue-loading-button\n          :loading=\"isLoading\"\n          \n          class=\"btn btn-primary \"\n          \n          >Login</vue-loading-button\n        >\n        </div>\n        <div class=\"card-text\">\n          <p v-if=\"error\" class=\" label\" style=\"color: red;\">\n            Please check that you have done the verification. If yes, you have\n            entered an incorrect email/password. Please try again.\n          </p>\n          <u\n            ><router-link to=\"/register\" class=\"text-white\"\n              >Haven't made an account? Register here</router-link\n            ></u\n          >\n        </div>\n      </div>\n    </card>\n  </div>\n</template>\n\n<script>\nimport Card from \"../components/Cards/Card.vue\";\nimport API from \"../api/API\";\nimport BaseInput from \"../components/Inputs/BaseInput.vue\";\nexport default {\n  components: {\n    Card\n  },\n  data() {\n    return {\n      email: null,\n      password: null,\n      error: false,\n      site: \"6LeXbNEcAAAAADXZ4hJWouw34d7_KNQHrFddaGE7\",\n      recaptcha: null,\n      isLoading: false\n    };\n  },\n  methods: {\n    async login() {\n      this.isLoading = true;\n      const data = {\n        email: this.email,\n        password: this.password\n      };\n\n      if (this.email && this.password && this.recaptcha) {\n        try {\n          const res = await API.signin(data);\n          const { token } = res.data;\n          \n          window.localStorage.setItem(\"token\", token);\n          this.$router.push(\"/home/dashboard\");\n        } catch (error) {\n          this.error = true;\n          this.isLoading = false;\n        }\n      } else {\n        this.isLoading = false;\n        this.error = true;\n      }\n    },\n    verify(response) {\n      \n      this.recaptcha = response;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  margin-top: 5cm;\n}\n.label {\n  font-size: 15px;\n}\n#rc-anchor-container{\n  width: 500px !important;\n}\n</style>\n"]}]}